import{u as r}from"./index-Bugk_2b8.js";const o={national_scholarship:{id:"national_scholarship",title:"å›½å®¶å¥–å­¦é‡‘",description:"è§’é€å›½å®¶å¥–å­¦é‡‘ï¼éœ€è¦ä¿æŒé¡¶å°–çš„å­¦ä¸šæˆç»©å¹¶ç§¯æžå‚ä¸Žè¯¾å¤–æ´»åŠ¨ã€‚å¥–å­¦é‡‘è¯„é€‰åœ¨æ¯å­¦å¹´æœ«è¿›è¡Œã€‚",type:"Life",rewards:{money:8e3,honor:"å›½å®¶å¥–å­¦é‡‘èŽ·å¾—è€…"},triggerCondition:"æ¯å­¦å¹´æœ«è‡ªåŠ¨è§¦å‘ (Week 40)",stages:[{id:"gpa_check",name:"æˆç»©å®¡æ ¸",description:"GPA >= 3.8 (å‰5%)",isComplete:!1},{id:"activity_check",name:"æ´»åŠ¨å®¡æ ¸",description:"å‚ä¸Žè‡³å°‘2é¡¹ç¤¾å›¢æ´»åŠ¨",isComplete:!1},{id:"final_review",name:"ç»¼åˆè¯„å®¡",description:"ç­‰å¾…æœ€ç»ˆåå•å…¬å¸ƒ",isComplete:!1}]},campus_romance:{id:"campus_romance",title:"æ ¡å›­æ‹æ›²",description:"ä¸€æ®µæ‚„ç„¶èŒèŠ½çš„æƒ…æ„«...ä¼¼ä¹Žæœ‰äººå¯¹ä½ äº§ç”Ÿäº†ç‰¹åˆ«çš„å¥½æ„Ÿã€‚",type:"Romance",rewards:{attributes:{charm:10,eq:5}},triggerCondition:"é­…åŠ› > 80 æ—¶è§¦å‘",stages:[{id:"acquaintance",name:"åˆè¯†",description:"æ”¶åˆ°ä¸€å°ç¥žç§˜çš„æƒ…ä¹¦",isComplete:!1},{id:"friend",name:"æˆä¸ºæœ‹å‹",description:"æ‰¾å‡ºå†™ä¿¡äººå¹¶ä¸Žä¹‹æˆä¸ºæœ‹å‹",isComplete:!1},{id:"date",name:"çº¦ä¼š",description:"å…±åº¦ä¸€ä¸ªç‰¹åˆ«çš„çº¦ä¼š",isComplete:!1},{id:"partner",name:"åœ¨ä¸€èµ·",description:"ç¡®å®šæ‹çˆ±å…³ç³»",isComplete:!1}]},paper_publication:{id:"paper_publication",title:"è®ºæ–‡å‘è¡¨",description:"å°è¯•åœ¨å­¦æœ¯æœŸåˆŠä¸Šå‘è¡¨ä½ çš„ç ”ç©¶æˆæžœï¼Œè¿™å¯¹äºŽä¿ç ”æ¥è¯´è‡³å…³é‡è¦ï¼",type:"Academic",rewards:{attributes:{iq:5,employability:10},honor:"å­¦æœ¯æ–°æ˜Ÿ"},triggerCondition:"å¤§ä¸‰å­¦å¹´å¼€å§‹æ—¶è‡ªåŠ¨è§¦å‘",stages:[{id:"topic",name:"é€‰é¢˜",description:"ä¸Žå¯¼å¸ˆè®¨è®ºå¹¶ç¡®å®šç ”ç©¶æ–¹å‘",isComplete:!1},{id:"experiment",name:"å®žéªŒ/è°ƒç ”",description:"æ”¶é›†æ•°æ®å¹¶è¿›è¡Œåˆ†æž",isComplete:!1},{id:"writing",name:"æ’°å†™è®ºæ–‡",description:"å®Œæˆè®ºæ–‡åˆç¨¿",isComplete:!1},{id:"review",name:"æŠ•ç¨¿ä¸Žå®¡ç¨¿",description:"æŠ•é€’æœŸåˆŠå¹¶ç­‰å¾…å®¡ç¨¿ç»“æžœ",isComplete:!1},{id:"publish",name:"æ­£å¼å‘è¡¨",description:"è®ºæ–‡è¢«æŽ¥æ”¶å¹¶å‘è¡¨",isComplete:!1}]}},a=e=>{var s;const t=o[e];if(!t)throw new Error(`Quest template not found: ${e}`);return{...t,status:"Active",progress:0,currentStage:0,stages:(s=t.stages)==null?void 0:s.map(i=>({...i,isComplete:!1}))}},c=e=>e.attributes.charm>80?!e.quests.some(s=>s.id==="campus_romance"):!1,p=e=>e.currentDate.year>=3?!e.quests.some(s=>s.id==="paper_publication"):!1,l=e=>{const{currentDate:t}=e;if(t.semester===2&&t.week>=18&&t.week<=20){const s=`national_scholarship_y${t.year}`;return!e.quests.some(n=>n.id===s||n.id==="national_scholarship")}return!1},m=()=>{const{student:e,addNotification:t}=r.getState();if(!e)return;const s=[];if(c(e)){const i=a("campus_romance");s.push(i),t("ðŸŒ¹ æ–°ä»»åŠ¡ï¼šæ ¡å›­æ‹æ›²","info")}if(p(e)){const i=a("paper_publication");s.push(i),t("ðŸ“š æ–°ä»»åŠ¡ï¼šè®ºæ–‡å‘è¡¨","info")}if(l(e)){const i=a("national_scholarship");s.push(i),t("ðŸ† æ–°ä»»åŠ¡ï¼šå›½å®¶å¥–å­¦é‡‘è¯„é€‰","info")}s.length>0&&r.setState(i=>({student:{...i.student,quests:[...i.student.quests,...s]}}))};export{p as checkAcademicQuestTrigger,m as checkAllQuestTriggers,l as checkHonorQuestTrigger,c as checkRomanceQuestTrigger};
